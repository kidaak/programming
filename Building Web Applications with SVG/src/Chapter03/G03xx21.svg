<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
	width="100%" height="100%" viewBox="-10,-10,600,500" 
	onload="startup(evt)"
>
<script>
<![CDATA[

xmlns="http://www.w3.org/2000/svg"
var Doc;
var O;
var Col=new Array("red","cyan","green","yellow")
var P=new Array()
var Q
function startup(evt){
	O=evt.target
	Doc=O.ownerDocument
	SVGRoot = Doc.documentElement;
	O.setAttribute("onclick","ClickPoint(evt)")
	drawlines(100,10)
	coolabel(200,100,120,-60)
	coolabel(300,150,100,-75)
	coolabel(90,125,-10,100,"translate(-100,-50),scale(1.5)","black")
	coolabel(150,90,-100,-25,"original","black")
	coolabel(320,170,10,10,"scale(1.5)","black")
}
function drawlines(u,t){
	var B=O.getBBox()
	var w=B.width
	var h=B.height
	for (i=0;i<=w/t;i++){
		L=Doc.createElementNS(xmlns,"line")
		L.setAttribute("x1",i*t)
		L.setAttribute("x2",i*t)
		L.setAttribute("y1",0)
		L.setAttribute("y2",8)
		L.setAttribute("stroke","blue")
		L.setAttribute("stroke-width","1")
		O.appendChild(L)
		if (i%10==0){
			L=Doc.createElementNS(xmlns,"line")
			L.setAttribute("x1",i*t)
			L.setAttribute("x2",i*t)
			L.setAttribute("y1",0)
			L.setAttribute("y2",h)
			L.setAttribute("stroke","#06f")
			L.setAttribute("opacity","0.2")
			L.setAttribute("stroke-width","1")
			O.appendChild(L)
		}
	}
	for (i=0;i<=h/t;i++){
		L=Doc.createElementNS(xmlns,"line")
		L.setAttribute("x1",0)
		L.setAttribute("x2",8)
		L.setAttribute("y1",i*t)
		L.setAttribute("y2",i*t)
		L.setAttribute("stroke","blue")
		L.setAttribute("stroke-width","1")
		O.appendChild(L)
		if (i%10==0){
			L=Doc.createElementNS(xmlns,"line")
			L.setAttribute("x1",0)
			L.setAttribute("x2",w)
			L.setAttribute("y1",i*t)
			L.setAttribute("y2",i*t)
			L.setAttribute("stroke","#06f")
			L.setAttribute("opacity","0.2")
			L.setAttribute("stroke-width","1")
			O.appendChild(L)
		}
	}
}
function coolabel(x,y,ox,oy,l,col){
	if (l==null) {
		label=x+","+y
		E=Doc.createElementNS(xmlns,"circle")
		E.setAttribute("cx",x)
		E.setAttribute("cy",y)
		E.setAttribute("r",5)
		E.setAttribute("stroke","green")
		E.setAttribute("stroke-width","3")
		E.setAttribute("opacity",".4")
		E.setAttribute("fill","yellow")
		O.appendChild(E)
	}
	else label=l
	if (col==null) col="blue"
	
	L=Doc.createElementNS(xmlns,"line")
	L.setAttribute("x1",x)
	L.setAttribute("x2",x+ox)
	L.setAttribute("y1",y)
	L.setAttribute("y2",y+oy)
	L.setAttribute("stroke","black")
	L.setAttribute("stroke-width","1.5")
	L.setAttribute("stroke-dasharray","2,5")
	O.appendChild(L)
	T=Doc.createElementNS(xmlns,"text")
	T.setAttribute("x",x+ox-label.length*2)
	if (oy>0)
	T.setAttribute("y",y+oy+12)
	else
	T.setAttribute("y",y+oy-4)
	T.setAttribute("font-size",14)
	T.setAttribute("font-family","monospace")
	if (l==null) T.setAttribute("fill","black")
	else T.setAttribute("fill",col)
	msg=Doc.createTextNode(label)
	T.appendChild(msg)
	O.appendChild(T)
	
}
function ClickPoint(evt){
	
	var TT = document.getElementsByTagName("text");
 	var T0 = TT.item(0);
	var BB=T0.getBBox()
	var bx=(BB.x+BB.width).toString().replace(/\..*/,".")
	var by=(BB.y+BB.height).toString().replace(/\..*/,".")
	var byb=(BB.y).toString().replace(/\..*/,".")
	var bxb=(BB.x).toString().replace(/\..*/,".")
	coolabel(eval(bx),eval(by),20,-15)
	coolabel(eval(bx),eval(byb),20,-5)
	coolabel(eval(bxb),eval(byb),20,-5)
	drawRect(BB)
}
function drawRect(R){
	E=Doc.createElementNS(xmlns,"rect")
	E.setAttribute("x",R.x)
	E.setAttribute("y",R.y)
	E.setAttribute("width",R.width)
	E.setAttribute("height",R.height)
	E.setAttribute("stroke-width","3")
	E.setAttribute("stroke","red")
	E.setAttribute("opacity",".2")
	E.setAttribute("fill","yellow")
	O.appendChild(E)
}
//]]>
</script>

<rect id="BB" x="0" y="0" height="100%" width="100%" fill="white"/><g id="TEXT" />
<ellipse cx="200" cy="100" rx="100" ry="50" fill="#888">
</ellipse>
<ellipse transform="translate(-100,-50),scale(1.5)"
 cx="200" cy="100" rx="100" ry="50" opacity="0.5" fill="#aaa">
</ellipse>
<ellipse transform="scale(1.5)"
cx="200" cy="100" rx="100" ry="50" opacity="0.5" fill="#bbb">
</ellipse>
<!--
<ellipse cx="200" cy="100" rx="100" ry="50" opacity="0.5" fill="#964">
	<animateTransform attributeName="transform" type="translate" dur="4s" values="0,0;-100,-50;0,0" repeatCount="indefinite"/>
	<animateTransform attributeName="transform" additive="sum" type="scale" dur="4s" values="1;1.5;1" repeatCount="indefinite"/>
</ellipse>
<ellipse cx="200" cy="100" rx="100" ry="50" opacity="0.5" fill="#8f8">
	<animateTransform attributeName="transform"  type="scale" dur="4s" values="1;1.5;1" repeatCount="indefinite"/>
</ellipse>-->
</svg>
