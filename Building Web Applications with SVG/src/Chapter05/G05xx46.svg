<svg xmlns="http://www.w3.org/2000/svg" 
xmlns:xlink="http://www.w3.org/1999/xlink">

<title>Exercise D</title>
<defs>



<radialGradient id="gradient1" >
	<stop offset="0" stop-color="white"/>
	<stop offset=".85" stop-color="#fff"/>
	<stop offset="1" stop-color="black"/>
</radialGradient>
<ellipse id="E" cx="225" cy="280" rx="75" ry="87"/>
<mask id="Ma">
	<use xlink:href="#E" fill="url(#gradient1)"/>
</mask>


</defs>

<ellipse  cx="75" cy="87" rx="75" ry="87" fill="red"/>
<text x="15" y="185" font-size="12"> Unfiltered</text>

<filter id="turbu" x="0%" y="0%" width="100%" height="100%">
       <feTurbulence baseFrequency=".05" numOctaves="3" result="A"/>
</filter>
<rect x="155" filter="url(#turbu)" width="150" height="175">
</rect>
<text x="175" y="185" font-size="12"> Plain turbulence</text>

<filter id="compositeI" y="0" x="0" width="100%" height="100%">
	<feTurbulence baseFrequency=".05" numOctaves="3" result="A"/>
	<feComposite in="A" in2="SourceGraphic" operator="in" />
</filter>
<ellipse  cx="385" cy="87" rx="75" ry="87" fill="red" 
filter="url(#compositeI)"/>
<text x="335" y="185" font-size="12"> Composite: In</text>

<filter id="compositeJ" y="0" x="0" width="100%" height="100%">
	<feTurbulence baseFrequency=".05" numOctaves="3" result="A"/>
	<feComposite in2="A" in="SourceGraphic" operator="in" />
</filter>
<ellipse  cx="535" cy="87" rx="75" ry="87" fill="red" 
filter="url(#compositeJ)"/>
<text x="505" y="185" font-size="12"> Composite: In2</text>

<filter id="compositeA" y="0" x="0" width="100%" height="100%">
	<feTurbulence baseFrequency=".05" numOctaves="3" result="A" />
	<feComposite in2="A" in="SourceGraphic" operator="arithmetic" 
k1="1" k2="1" k3="1"  k4="-1" />
</filter>
<ellipse filter="url(#compositeA)" cx="700" cy="87" rx="75" ry="87" 
fill="red" />
<text x="655" y="185" font-size="12">Operator: Arithmetic, k1=1</text>

<g  filter="url(#compositeA)" >
<animateTransform attributeName="transform" type="translate" 
from="0 0" to="9000 20000" dur="300" repeatCount="indefinite"/>
<ellipse cx="75" cy="280" rx="75" ry="87" fill="red">
<animateTransform attributeName="transform" type="translate" 
from="0 0" to="-9000 -20000" dur="300" repeatCount="indefinite"/>
</ellipse>
</g> 

<text x="15" y="380" font-size="12"> Arithmetic + animation </text>

<g  filter="url(#compositeA)" >
<animateTransform attributeName="transform" type="translate" 
from="0 0" to="-9000 20000" dur="600" repeatCount="indefinite"/>
<use xlink:href="#E" fill="red"  mask="url(#Ma)" >
<animateTransform attributeName="transform" type="translate" 
from="0 0" to="9000 -20000" dur="600" repeatCount="indefinite"/>
</use>
</g>
<text x="165" y="380" font-size="12"> C/Arith+Mask </text>



<filter id="compositeI2" y="0" x="0" width="100%" height="100%">
	<feTurbulence baseFrequency=".05" numOctaves="2" result="A">
	<animate attributeName="baseFrequency" dur="5s" 
 values=".05;.02;.01" repeatCount="indefinite"/>
	</feTurbulence>
	<feComposite in2="A" in="SourceGraphic" operator="arithmetic" 
k1="1" k2="1" k3="1"  k4="-1" result="C"/>
	<feTurbulence baseFrequency=".05" numOctaves="1" seed="25" 
result="B">
	<animate attributeName="baseFrequency" dur="7s"
 values=".02;.01;.001" repeatCount="indefinite"/>
 	<animate attributeName="seed" dur="35s"
 values="30;34" repeatCount="indefinite"/>
	</feTurbulence>
	<feComposite in2="B" in="SourceGraphic" operator="arithmetic" 
k1="1" k2="1" k3="1"  k4="-1" result="D"/>
	<feComposite in2="C" in="D" operator="arithmetic" k1="1" k2="1" 
k3="1"  k4="0"/>
</filter>

<g filter="url(#compositeI2)" transform="translate(220,0)" >
<use xlink:href="#E" fill="red"  mask="url(#Ma)" />
</g>
<text x="405" y="380" font-size="12"> Double turbulence</text>

<filter id="compositeA6" y="0" x="0" width="100%" height="100%">
	<feTurbulence baseFrequency=".05" numOctaves="3" result="A" />
	<feComposite in2="A" in="SourceGraphic" operator="arithmetic" 
k1="6" k2="1" k3="1"  k4="-1" />
</filter>
<g  filter="url(#compositeA6)" >
<animateTransform attributeName="transform" type="translate" 
from="240 0" to="9000 20000" dur="600" repeatCount="indefinite"/><!--
<ellipse  cx="700" cy="277" rx="75" ry="87" fill="red" >-->
<use xlink:href="#E" fill="red"  mask="url(#Ma)" >
<animateTransform attributeName="transform" type="translate" 
from="240 0" to="-9000 -20000" dur="600" repeatCount="indefinite"/>
</use>
</g>
<text x="655" y="380" font-size="12">Operator: Arithmetic, k1=6</text>

</svg>
